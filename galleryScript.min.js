"use strict";function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,i,t){return i&&_defineProperties(e.prototype,i),t&&_defineProperties(e,t),e}var CreationOfBlocs=function(){function e(){_classCallCheck(this,e),this.caseNumber=allCases.length,this.howManyBlocsHasBeenCreated=0,this.howManyBlocsGonnaBeCreated=this.caseNumber/3,this.arrayBlocStorage=[],this.arrayCursor1=0,this.arrayCursor2=1,this.arrayCursor3=2}return _createClass(e,[{key:"blocCreation",value:function(e,i,t){var n=new OneBlocOf3Cases(e.lien_image,e.lien_partenaire,e.alt,e.description_1,e.description_2,i.lien_image,i.lien_partenaire,i.alt,i.description_1,i.description_2,t.lien_image,t.lien_partenaire,t.alt,t.description_1,t.description_2,this.howManyBlocsHasBeenCreated);if(!0===deviceDetection){$(".ref_container").addClass("device");var a=n.addOneDeviceBlocToDOM()}else if(!1===deviceDetection){$(".ref_container").removeClass("device");a=n.addOneBlocToDOM()}this.arrayBlocStorage[this.howManyBlocsHasBeenCreated]=a,this.howManyBlocsHasBeenCreated++}},{key:"AddDatasToArray",value:function(){for(;this.howManyBlocsGonnaBeCreated>0;)this.blocCreation(allCases[this.arrayCursor1],allCases[this.arrayCursor2],allCases[this.arrayCursor3]),this.howManyBlocsGonnaBeCreated--,this.arrayCursor1=this.arrayCursor1+3,this.arrayCursor2=this.arrayCursor2+3,this.arrayCursor3=this.arrayCursor3+3}},{key:"AddStyleEventsToBlocs",value:function(e){function i(e,i){return"#number_"+e+" ."+i}function t(e,i){return"#number_"+e+" ."+i+" img"}var n=$("#number_"+e+" .description_site_image_1"),a=$("#number_"+e+" .description_projet_image_1"),r=$("#number_"+e+" .description_site_image_2"),s=$("#number_"+e+" .description_projet_image_2"),o=$("#number_"+e+" .description_site_image_3"),c=$("#number_"+e+" .description_projet_image_3");$(i(e,"firstCase")).mouseenter(function(){$(t(e,"secondCase")).attr("style","opacity: 0;"),$(t(e,"thirdCase")).attr("style","opacity: 0;"),n.css({opacity:"1","z-index":"50"}),a.css({opacity:"1","z-index":"50"}),r.css({opacity:"0","z-index":"-5"}),s.css({opacity:"0","z-index":"-5"}),o.css({opacity:"0","z-index":"-5"}),c.css({opacity:"0","z-index":"-5"})}),$(i(e,"firstCase")).mouseleave(function(){$(t(e,"secondCase")).attr("style","opacity: 1;"),$(t(e,"thirdCase")).attr("style","opacity: 1;"),n.css({opacity:"0","z-index":"-5"}),a.css({opacity:"0","z-index":"-5"}),r.css({opacity:"0","z-index":"-5"}),s.css({opacity:"0","z-index":"-5"}),o.css({opacity:"0","z-index":"-5"}),c.css({opacity:"0","z-index":"-5"})}),$(i(e,"firstCase")).click(function(){$(".oneBloc img").attr("style","opacity: 1; z-index: 50;"),$(t(e,"secondCase")).attr("style","opacity: 0; z-index: -5;"),$(t(e,"thirdCase")).attr("style","opacity: 0 ; z-index: -5;")}),$(i(e,"secondCase")).mouseenter(function(){$(t(e,"firstCase")).attr("style","opacity: 0;"),$(t(e,"thirdCase")).attr("style","opacity: 0;"),n.css({opacity:"0","z-index":"-5"}),a.css({opacity:"0","z-index":"-5"}),r.css({opacity:"1","z-index":"50"}),s.css({opacity:"1","z-index":"50"}),o.css({opacity:"0","z-index":"-5"}),c.css({opacity:"0","z-index":"-5"})}),$(i(e,"secondCase")).mouseleave(function(){$(t(e,"firstCase")).attr("style","opacity: 1;"),$(t(e,"thirdCase")).attr("style","opacity: 1;"),n.css({opacity:"0","z-index":"-5"}),a.css({opacity:"0","z-index":"-5"}),r.css({opacity:"0","z-index":"-5"}),s.css({opacity:"0","z-index":"-5"}),o.css({opacity:"0","z-index":"-5"}),c.css({opacity:"0","z-index":"-5"})}),$(i(e,"secondCase")).click(function(){$(".oneBloc img").attr("style","opacity: 1; z-index: 50;"),$(t(e,"firstCase")).attr("style","opacity: 0; z-index: -5;"),$(t(e,"thirdCase")).attr("style","opacity: 0 ; z-index: -5;")}),$(i(e,"thirdCase")).mouseenter(function(){$(t(e,"firstCase")).attr("style","opacity: 0;"),$(t(e,"secondCase")).attr("style","opacity: 0;"),n.css({opacity:"0","z-index":"-5"}),a.css({opacity:"0","z-index":"-5"}),r.css({opacity:"0","z-index":"-5"}),s.css({opacity:"0","z-index":"-5"}),o.css({opacity:"1","z-index":"50"}),c.css({opacity:"1","z-index":"50"})}),$(i(e,"thirdCase")).mouseleave(function(){$(t(e,"firstCase")).attr("style","opacity: 1;"),$(t(e,"secondCase")).attr("style","opacity: 1;"),n.css({opacity:"0","z-index":"-5"}),a.css({opacity:"0","z-index":"-5"}),r.css({opacity:"0","z-index":"-5"}),s.css({opacity:"0","z-index":"-5"}),o.css({opacity:"0","z-index":"-5"}),c.css({opacity:"0","z-index":"-5"})}),$(i(e,"thirdCase")).click(function(){$(".oneBloc img").attr("style","opacity: 1; z-index: 50;"),$(t(e,"secondCase")).attr("style","opacity: 0; z-index: -5;"),$(t(e,"firstCase")).attr("style","opacity: 0 ; z-index: -5;")})}},{key:"AddMobileStyleToBlocs",value:function(){let e=allCases.length/3,i=$(window).width(),t=i/3,n=e*i,a=n+2*(t*(allCases.length/2)-t/2),r=i/3+5,s=50,o=t/2/a*100;allCases.length%2==0&&(s+=o),$("#ref_mobile_child").css({width:a+"px",left:"50%"}),$("#draggable_container").css({width:n+"px",left:s+"%"}),$("#UX_square").css({width:r+"px",height:r})}}]),e}(),OneBlocOf3Cases=function(){function e(i,t,n,a,r,s,o,c,l,d,p,_,h,g,m,u){_classCallCheck(this,e),this.lien_image_1=i,this.url_partenaire_1=t,this.alt_1=n,this.description_site_1=a,this.description_projet_1=r,this.lien_image_2=s,this.url_partenaire_2=o,this.alt_2=c,this.description_site_2=l,this.description_projet_2=d,this.lien_image_3=p,this.url_partenaire_3=_,this.alt_3=h,this.description_site_3=g,this.description_projet_3=m,this.numberOfTheBloc=u}return _createClass(e,[{key:"addOneBlocToDOM",value:function(){return'<div class="oneBloc" id="number_'.concat(this.numberOfTheBloc,'">\n                <div class="firstCase">\n                    <a href=').concat(this.url_partenaire_1,' target="_blank" rel="noopener noreferrer nofollow">\n                        <p>\n                            <img \n                                src=').concat(this.lien_image_1," \n                                alt=").concat(this.alt_1,' \n                            "/>\n                            <span class="dynamic_background"></span>\n                            <span class="description_image description_site_image_2">').concat(this.description_site_1,'</span>\n                            <span class="description_image description_site_image_3">').concat(this.description_projet_1,'</span>\n                        </p>\n                    </a>\n                </div>\n                <div class="secondCase">\n                    <a href=').concat(this.url_partenaire_2,' target="_blank" rel="noopener noreferrer nofollow">\n                        <p>\n                            <img \n                                src=').concat(this.lien_image_2," \n                                alt=").concat(this.alt_2,' \n                            />\n                            <span class="dynamic_background"></span>\n                            <span class="description_image description_site_image_1">').concat(this.description_site_2,'</span>\n                            <span class="description_image description_projet_image_3">').concat(this.description_projet_2,'</span>\n                        </p>\n                    </a>\n                </div>\n                <div class="thirdCase">\n                    <a href=').concat(this.url_partenaire_3,' target="_blank" rel="noopener noreferrer nofollow">\n                        <p>\n                            <img \n                                src=').concat(this.lien_image_3," \n                                alt=").concat(this.alt_3,' \n                            />\n                            <span class="dynamic_background"></span>\n                            <span class="description_image description_projet_image_1">').concat(this.description_site_3,'</span>\n                            <span class="description_image description_projet_image_2">').concat(this.description_projet_3,"</span>\n                        </p>\n                    </a>\n                </div>\n            </div>")}},{key:"addOneDeviceBlocToDOM",value:function(){return'\n      <div class="oneImage_device">\n        <span>\n          <p>\n            <img src='.concat(this.lien_image_1," alt=").concat(this.alt_1,' class="device_image"/>\n          </p>\n        </span>\n\n        <span>\n          <p>\n            <img src=').concat(this.lien_image_2," alt=").concat(this.alt_2,' class="device_image">\n          </p>\n        </span>\n        \n        <span>\n          <p>\n            <img src=').concat(this.lien_image_3," alt=").concat(this.alt_3,' class="device_image"/>\n          </p>\n        </span>\n      </div>\n\n      <div class="oneText_device">\n        <a href=').concat(this.url_partenaire_1,' target="_blank" rel="noopener noreferrer nofollow">\n            <p>\n              <img src=').concat(this.lien_image_1," alt=").concat(this.alt_1,' class="dynamic_image"/>\n            </p>\n        </a>\n        <p class="description_image_device description_site_image_1">').concat(this.description_site_2,'</p>\n        <p class="description_image_device description_projet_image_1">').concat(this.description_site_3,'</p>\n      </div>\n      <div class="oneText_device">\n        <a href=').concat(this.url_partenaire_2,' target="_blank" rel="noopener noreferrer nofollow">\n          <p>\n            <img src=').concat(this.lien_image_2," alt=").concat(this.alt_2,' class="dynamic_image"/>\n          </p>\n        </a>\n        <p class="description_image_device description_site_image_2">').concat(this.description_site_1,'</p>\n        <p class="description_image_device description_projet_image_2">').concat(this.description_projet_3,'</p>\n      </div>\n      <div class="oneText_device">\n        <a href=').concat(this.url_partenaire_3,' target="_blank" rel="noopener noreferrer nofollow">\n          <p>\n            <img src=').concat(this.lien_image_3," alt=").concat(this.alt_3,' class="dynamic_image"/>\n          </p>\n        </a>\n        <p class="description_image_device description_site_image_3">').concat(this.description_projet_1,'</p>\n        <p class="description_image_device description_projet_image_3">').concat(this.description_projet_2,"</p>\n      </div>\n  ")}}]),e}();function _slicedToArray(e,i){return _arrayWithHoles(e)||_iterableToArrayLimit(e,i)||_unsupportedIterableToArray(e,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,i){if(e){if("string"==typeof e)return _arrayLikeToArray(e,i);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,i):void 0}}function _arrayLikeToArray(e,i){(null==i||i>e.length)&&(i=e.length);for(var t=0,n=new Array(i);t<i;t++)n[t]=e[t];return n}function _iterableToArrayLimit(e,i){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],n=!0,a=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(t.push(s.value),!i||t.length!==i);n=!0);}catch(e){a=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}return t}}function _arrayWithHoles(e){if(Array.isArray(e))return e}var BlocsTest=function(){function e(){_classCallCheck(this,e),this.testGrid=[],this.addToGrid=1}return _createClass(e,[{key:"initializeTests",value:function(){(new CreationOfBlocs).caseNumber%3!=0&&console.log("Le nombre de case doit être un multiple de 3.");for(var e=/\.(gif|jpe?g|tiff|png|webp|bmp)$/i,i=0,t=Object.entries(allCases);i<t.length;i++){var n=_slicedToArray(t[i],2)[1];""===n.lien_image||void 0===n.lien_image||null===n.lien_image?console.log("il doit obligatoirement y avoir une image par case, même si elle est vide."):!1===e.test(n.lien_image)?console.log("l'image numéro "+this.addToGrid+" n'a pas un format d'image correct."):$(".ref_container img").width()!==$(".ref_container img").height()&&console.log("L'image numéro "+this.addToGrid+" n'est pas carrée"),this.addToGrid++}}}]),e}();let tests=new BlocsTest;tests.initializeTests();var screenWidth="",windowWidth="",deviceDetection="";const caseNumber=allCases.length;var goBackToOpacity1=0;windowWidth=(screenWidth=$(document).width())<1280?"small":"big",deviceDetection=!(!navigator.userAgent.match(/(Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini)/gi)&&"small"!==windowWidth);var creationOfBlocs=new CreationOfBlocs;if(creationOfBlocs.AddDatasToArray(),creationOfBlocs.arrayBlocStorage.forEach(function(e){$(".ref_container").append(e)}),!0===deviceDetection)$('<div id="ref_mobile_child"></div>').prependTo(".ref_container"),$('<div id="draggable_container"></div>').prependTo("#ref_mobile_child"),$('<div id="UX_square"></div>').prependTo("#ref_mobile_child"),$('<div id="description_container"></div>').appendTo(".ref_container"),$(".oneImage_device").prependTo("#draggable_container"),$(".oneText_device").prependTo("#description_container"),creationOfBlocs.AddMobileStyleToBlocs();else if(!1===deviceDetection)for(var i=0;i<creationOfBlocs.howManyBlocsHasBeenCreated;i++)creationOfBlocs.AddStyleEventsToBlocs(i);var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE "),trident=ua.indexOf("Trident/");if(msie>0||trident>0){console.log("IE detecté, remise en forme du document");var imageWidth=$("body > div > div:nth-child(1) > a > p > img").css("width");$(".oneImage_device > a").css("height",imageWidth)}var counts=0;function oneDescription(e){$(".oneText_device").css("opacity","0"),$("#description_container :nth-child("+e+")").css("opacity","1")}function changePxValueToInteger(e,i){var t=$(e).css(i).slice(0,-2);return parseInt(t)}$("#draggable_container").draggable({axis:"x",scroll:!1,containment:"#ref_mobile_child",drag:function(){counts=$("#draggable_container").css("left"),changeOpacityWhileUserDrag()}});let UXValidation=$("#UX_square").css("color"),UXReset=$("#UX_square").css("border-color");function UXSquareValidation(){$("#UX_square").css("border-color",UXValidation),setTimeout(()=>{$("#UX_square").css("border-color",UXReset)},150)}function changeOpacityWhileUserDrag(){let e=changePxValueToInteger("#draggable_container","left");if(e>parsedInitialPosNumber)e>parsedInitialPosNumber+parsedOneImageWidthNumber&&(oneDescription(--initialDescription),parsedInitialPosNumber=e,UXSquareValidation());else if(e<parsedInitialPosNumber){e<parsedInitialPosNumber-parsedOneImageWidthNumber&&(oneDescription(++initialDescription),parsedInitialPosNumber=e,UXSquareValidation())}}let parsedInitialPosNumber,parsedOneImageWidthNumber,oneScreenRatio=allCases.length/3;if(!0===deviceDetection){parsedInitialPosNumber=changePxValueToInteger("#draggable_container","left"),parsedOneImageWidthNumber=changePxValueToInteger("#draggable_container > div:nth-child(1) > span:nth-child(1) > p > img","width")-8;var initialDescription=allCases.length/2;initialDescription%1!=0&&(initialDescription+=.5),oneDescription(initialDescription)}$(window).resize(function(){goBackToOpacity1++,$(".ref_container").css({opacity:"0"}),$("#loader").css({opacity:"1","z-index":"1000"});var e=window.navigator.userAgent,i=e.indexOf("MSIE "),t=e.indexOf("Trident/");if(i>0||t>0){console.log("IE detecté, remise en forme du document");var n=$("body > div > div:nth-child(1) > a > p > img").css("width");$(".oneImage_device > a").css("height",n)}var a,r="";if(r=(a=$(document).width())<1280?"small":"big",deviceDetection=!(!navigator.userAgent.match(/(Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini)/gi)&&"small"!==r),screenWidth!==a){$(".oneBloc").remove(),$(".oneText_device").remove(),$("#UX_square").remove(),$("#ref_mobile_child").remove(),$("#draggable_container").remove(),$("#description_container").remove(),$(".oneImage_device").remove();var s=new CreationOfBlocs;if(s.AddDatasToArray(),s.arrayBlocStorage.forEach(function(e){$(".ref_container").append(e)}),!0===deviceDetection)$('<div id="ref_mobile_child"></div>').prependTo(".ref_container"),$('<div id="draggable_container"></div>').prependTo("#ref_mobile_child"),$('<div id="UX_square"></div>').prependTo("#ref_mobile_child"),$('<div id="description_container"></div>').appendTo(".ref_container"),$(".oneImage_device").prependTo("#draggable_container"),$(".oneText_device").prependTo("#description_container"),s.AddMobileStyleToBlocs();else if(!1===deviceDetection)for(var o=0;o<s.howManyBlocsHasBeenCreated;o++)s.AddStyleEventsToBlocs(o);counts=0,$("#draggable_container").draggable({axis:"x",scroll:!1,containment:"#ref_mobile_child",drag:function(){counts=$("#draggable_container").css("left"),changeOpacityWhileUserDrag()}}),oneScreenRatio=allCases.length/3,!0===deviceDetection&&(parsedInitialPosNumber=changePxValueToInteger("#draggable_container","left"),parsedOneImageWidthNumber=changePxValueToInteger("#draggable_container > div:nth-child(1) > span:nth-child(1) > p > img","width")-8,(initialDescription=allCases.length/2)%1!=0&&(initialDescription+=.5),oneDescription(initialDescription))}setTimeout(()=>{0===--goBackToOpacity1&&($(".ref_container").css({opacity:"1"}),$("#loader").css({opacity:"0","z-index":"-1000"}))},300)});